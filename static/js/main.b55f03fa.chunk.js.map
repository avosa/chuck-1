{"version":3,"sources":["api/index.js","api/jokes.js","api/categories.js","App.js","index.js"],"names":["axios","defaults","baseURL","headers","post","Access-Control-Allow-Origin","interceptors","response","use","data","_ref2","Object","asyncToGenerator","regenerator_default","a","mark","_callee","_ref","wrap","_context","prev","next","status","abrupt","error","message","stop","_x","apply","this","arguments","getRandomJoke","category","get","concat","getCategories","FullScreen","styled","_templateObject","CenterBlock","_templateObject2","Select","RCSelect","_templateObject3","App","state","joke","categories","selectedCategory","label","value","getJoke","sent","_this","setState","_callee2","parsedCategories","_context2","map","cat","handleKeyboardDown","_ref3","keyCode","onArrowChangeCategory","_this$state","currentCategoryIndex","indexOf","changeOptionCategory","length","document","addEventListener","removeEventListener","_this$state2","react_default","createElement","react","theme","objectSpread","borderRadius","colors","primary25","primary","options","onChange","defaultValue","Component","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.b55f03fa.chunk.js","sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.chucknorris.io/';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\naxios.defaults.headers.post.headers = { 'Access-Control-Allow-Origin': '*' };\n\naxios.interceptors.response.use(\n  response => response.data,\n  async ({ response }) => {\n    if (response) {\n      if (response.status === 404) {\n        return {\n          error: {\n            status: response.status,\n            message: 'NotFound'\n          }\n        };\n      }\n      return {\n        error: {\n          status: response.status,\n          message: response.data.error\n        }\n      };\n    }\n    return {\n      error: {\n        status: 500,\n        message: 'Error500'\n      }\n    };\n  }\n);\n\nexport default axios;\n","import axios from 'api';\n\nexport const getRandomJoke = async category =>\n  axios.get(`jokes/random?category=${category}`);\n","import axios from 'api';\n\nexport const getCategories = async () => axios.get('jokes/categories');\n","import React, { Component, Fragment } from 'react';\nimport styled from 'styled-components';\nimport { getRandomJoke } from 'api/jokes';\nimport { getCategories } from 'api/categories';\nimport RCSelect from 'react-select';\n\nconst FullScreen = styled('div')`\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n`;\n\nconst CenterBlock = styled('div')`\n  font-size: xx-large;\n  margin: auto;\n  position: absolute;\n  width: 70%;\n  top: 35%;\n  left: 0;\n  bottom: 0;\n  right: 0;\n`;\n\nconst Select = styled(RCSelect)`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 10em;\n  margin: 1em;\n`;\n\nclass App extends Component {\n  state = {\n    joke: {},\n    categories: [],\n    selectedCategory: { label: 'dev', value: 'dev' }\n  };\n\n  componentDidMount() {\n    this.getJoke(this.state.selectedCategory.value);\n    this.getCategories();\n    document.addEventListener('keydown', this.handleKeyboardDown);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.handleKeyboardDown);\n  }\n\n  getJoke = async category => {\n    const joke = await getRandomJoke(category);\n    if (joke) {\n      this.setState({ joke });\n    }\n  };\n\n  getCategories = async () => {\n    const categories = await getCategories();\n    if (categories) {\n      const parsedCategories = categories.map(cat => ({\n        label: cat,\n        value: cat\n      }));\n      this.setState({ categories: parsedCategories });\n    }\n  };\n\n  handleKeyboardDown = ({ keyCode }) => {\n    if ((keyCode >= 65 && keyCode <= 90) || keyCode === 32) {\n      // letter or space bar\n      this.getJoke(this.state.selectedCategory.value);\n    } else if (keyCode >= 37 && keyCode <= 40) {\n      // arrows\n      this.onArrowChangeCategory(keyCode);\n    }\n  };\n\n  onArrowChangeCategory = keyCode => {\n    const { selectedCategory, categories } = this.state;\n    const currentCategoryIndex = categories\n      .map(cat => cat.value)\n      .indexOf(selectedCategory.value);\n    if (keyCode === 38 || keyCode === 37) {\n      if (currentCategoryIndex > 0) {\n        this.changeOptionCategory(categories[currentCategoryIndex - 1]);\n      } else {\n        this.changeOptionCategory(categories[categories.length - 1]);\n      }\n    } else if (keyCode === 39 || keyCode === 40) {\n      if (currentCategoryIndex === categories.length - 1) {\n        this.changeOptionCategory(categories[0]);\n      } else {\n        this.changeOptionCategory(categories[currentCategoryIndex + 1]);\n      }\n    }\n  };\n\n  changeOptionCategory = category => {\n    this.setState({ selectedCategory: category });\n    this.getJoke(category.value);\n  };\n\n  render() {\n    const {\n      joke: { value },\n      categories,\n      selectedCategory\n    } = this.state;\n    return (\n      <Fragment>\n        <Select\n          theme={theme => ({\n            ...theme,\n            borderRadius: 0,\n            colors: {\n              ...theme.colors,\n              primary25: 'lightgrey',\n              primary: 'black'\n            }\n          })}\n          options={categories}\n          onChange={this.changeOptionCategory}\n          defaultValue={selectedCategory}\n          value={selectedCategory}\n        />\n        <FullScreen>\n          <CenterBlock>{value}</CenterBlock>\n        </FullScreen>\n      </Fragment>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}