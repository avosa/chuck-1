{"version":3,"sources":["api/index.js","api/jokes.js","api/categories.js","dict.js","App.js","index.js"],"names":["axios","defaults","baseURL","headers","post","Access-Control-Allow-Origin","interceptors","response","use","data","_ref2","Object","asyncToGenerator","regenerator_default","a","mark","_callee","_ref","wrap","_context","prev","next","status","abrupt","error","message","stop","_x","apply","this","arguments","getRandomJoke","category","get","concat","getCategories","keyCodes","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","KeyA","KeyZ","Space","FullScreen","styled","_templateObject","CenterBlock","_templateObject2","Select","RCSelect","_templateObject3","App","state","joke","categories","selectedCategory","label","value","getJoke","sent","_this","setState","_callee2","parsedCategories","_context2","map","cat","handleKeyboardDown","_ref3","keyCode","onArrowChangeCategory","handleMouseClick","_this$state","currentCategoryIndex","indexOf","changeOptionCategory","length","document","addEventListener","removeEventListener","_this$state2","react_default","createElement","react","theme","objectSpread","borderRadius","colors","primary25","primary","options","onChange","defaultValue","Component","hashHistory","createHashHistory","basename","process","ReactDOM","render","react_router","history","path","component","getElementById"],"mappings":"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","file":"static/js/main.8e6c1d51.chunk.js","sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.chucknorris.io/';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\naxios.defaults.headers.post.headers = { 'Access-Control-Allow-Origin': '*' };\n\naxios.interceptors.response.use(\n  response => response.data,\n  async ({ response }) => {\n    if (response) {\n      if (response.status === 404) {\n        return {\n          error: {\n            status: response.status,\n            message: 'NotFound'\n          }\n        };\n      }\n      return {\n        error: {\n          status: response.status,\n          message: response.data.error\n        }\n      };\n    }\n    return {\n      error: {\n        status: 500,\n        message: 'Error500'\n      }\n    };\n  }\n);\n\nexport default axios;\n","import axios from 'api';\n\nexport const getRandomJoke = async category =>\n  axios.get(`jokes/random?category=${category}`);\n","import axios from 'api';\n\nexport const getCategories = async () => axios.get('jokes/categories');\n","export const keyCodes = {\n  ArrowLeft: 37,\n  ArrowUp: 38,\n  ArrowRight: 39,\n  ArrowDown: 40,\n  KeyA: 65,\n  KeyZ: 90,\n  Space: 32\n};\n","import React, { Component, Fragment } from 'react';\nimport styled from 'styled-components';\nimport RCSelect from 'react-select';\n\nimport { getRandomJoke } from 'api/jokes';\nimport { getCategories } from 'api/categories';\n\nimport { keyCodes } from './dict';\n\nconst FullScreen = styled('div')`\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n`;\n\nconst CenterBlock = styled('div')`\n  font-size: xx-large;\n  margin: auto;\n  position: absolute;\n  width: 70%;\n  top: 35%;\n  left: 0;\n  bottom: 0;\n  right: 0;\n`;\n\nconst Select = styled(RCSelect)`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 10em;\n  margin: 1em;\n`;\n\nclass App extends Component {\n  state = {\n    joke: {},\n    categories: [],\n    selectedCategory: { label: 'dev', value: 'dev' }\n  };\n\n  componentDidMount() {\n    this.getJoke(this.state.selectedCategory.value);\n    this.getCategories();\n    document.addEventListener('keydown', this.handleKeyboardDown);\n    document.addEventListener('click', this.handleMouseClick);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.handleKeyboardDown);\n    document.addEventListener('click', this.handleMouseClick);\n  }\n\n  getJoke = async category => {\n    const joke = await getRandomJoke(category);\n    if (joke) {\n      this.setState({ joke });\n    }\n  };\n\n  getCategories = async () => {\n    const categories = await getCategories();\n    if (categories) {\n      const parsedCategories = categories.map(cat => ({\n        label: cat,\n        value: cat\n      }));\n      this.setState({ categories: parsedCategories });\n    }\n  };\n\n  handleKeyboardDown = ({ keyCode }) => {\n    if (\n      (keyCode >= keyCodes.KeyA && keyCode <= keyCodes.KeyZ) ||\n      keyCode === keyCodes.Space\n    ) {\n      this.getJoke(this.state.selectedCategory.value);\n    } else if (keyCode >= keyCodes.ArrowLeft && keyCode <= keyCodes.ArrowDown) {\n      this.onArrowChangeCategory(keyCode);\n    }\n  };\n\n  handleMouseClick = () => {\n    this.getJoke(this.state.selectedCategory.value);\n  };\n\n  onArrowChangeCategory = keyCode => {\n    const { selectedCategory, categories } = this.state;\n    const currentCategoryIndex = categories\n      .map(cat => cat.value)\n      .indexOf(selectedCategory.value);\n    if (keyCode === keyCodes.ArrowUp || keyCode === keyCodes.ArrowLeft) {\n      if (currentCategoryIndex > 0) {\n        this.changeOptionCategory(categories[currentCategoryIndex - 1]);\n      } else {\n        this.changeOptionCategory(categories[categories.length - 1]);\n      }\n    } else if (\n      keyCode === keyCodes.ArrowRight ||\n      keyCode === keyCodes.ArrowDown\n    ) {\n      if (currentCategoryIndex === categories.length - 1) {\n        this.changeOptionCategory(categories[0]);\n      } else {\n        this.changeOptionCategory(categories[currentCategoryIndex + 1]);\n      }\n    }\n  };\n\n  changeOptionCategory = category => {\n    this.setState({ selectedCategory: category });\n    this.getJoke(category.value);\n  };\n\n  render() {\n    const {\n      joke: { value },\n      categories,\n      selectedCategory\n    } = this.state;\n    return (\n      <Fragment>\n        <Select\n          theme={theme => ({\n            ...theme,\n            borderRadius: 0,\n            colors: {\n              ...theme.colors,\n              primary25: 'lightgrey',\n              primary: 'black'\n            }\n          })}\n          options={categories}\n          onChange={this.changeOptionCategory}\n          defaultValue={selectedCategory}\n          value={selectedCategory}\n        />\n        <FullScreen>\n          <CenterBlock>{value}</CenterBlock>\n        </FullScreen>\n      </Fragment>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Router } from 'react-router';\nimport { Route } from 'react-router-dom';\nimport { createHashHistory } from 'history';\nimport './index.css';\nimport App from './App';\n\nconst hashHistory = createHashHistory({ basename: process.env.PUBLIC_URL });\n\nReactDOM.render(\n  <Router history={hashHistory}>\n    <Route path=\"/\" component={App} />\n  </Router>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}